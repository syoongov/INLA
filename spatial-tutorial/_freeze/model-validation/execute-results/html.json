{
  "hash": "8abcc6d3f5af89fb882c1dd77e8beefd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Model Validation and Diagnostics\"\nformat: bookup-html\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(tidycensus)\nlibrary(tigris)\nlibrary(spdep)\nlibrary(INLA)\nlibrary(BMA)\nlibrary(leaflet)\nlibrary(plotly)\nlibrary(DT)\nlibrary(kableExtra)\nlibrary(corrplot)\nlibrary(car)\nlibrary(viridis)\nlibrary(patchwork)\n\n# Set global options\noptions(tigris_use_cache = TRUE)\nsf_use_s2(FALSE)\n\nknitr::opts_chunk$set(\n  echo = TRUE,\n  message = FALSE,\n  warning = FALSE,\n  fig.align = \"center\",\n  cache = TRUE\n)\n\n\n# Your INLA setup code here\n```\n:::\n\n\n# Model Validation Framework\n\n**What This Section Accomplishes:**\nThis validates the spatial model by examining residuals and testing model adequacy to ensure reliable inference for policy recommendations.\n\n[Your validation content...]\n\n# Part VII: Model Validation and Robustness\n\n## 7.1 Diagnostic Checks\n\n### Residual Spatial Autocorrelation\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Test for remaining spatial autocorrelation in residuals\nresidual_moran <- moran.test(model_residuals, spatial_weights)\n\ncat(\"Moran's I for residuals:\", round(residual_moran$statistic, 4))\ncat(\"P-value:\", round(residual_moran$p.value, 4))\n\nif(residual_moran$p.value > 0.05) {\n  cat(\"✓ No significant residual spatial autocorrelation - model captures spatial structure well\")\n} else {\n  cat(\"⚠ Residual spatial autocorrelation detected - consider model refinement\")\n}\n```\n:::\n\n\n### Model Fit Statistics\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_diagnostics <- data.frame(\n  Metric = c(\"DIC\", \"WAIC\", \"Marginal Log-Likelihood\", \"Effective Parameters\"),\n  Value = c(\"5199.78\", \"5073.35\", \"-2544.67\", \"355.10\"),\n  Interpretation = c(\"Lower is better - comparative model selection\",\n                    \"Cross-validation based - preferred for prediction\",\n                    \"Higher is better - overall model quality\",\n                    \"Model complexity - balance with fit quality\")\n)\n\nkable(model_diagnostics, caption = \"Model Fit and Complexity Measures\") %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover\" style=\"margin-left: auto; margin-right: auto;\">\n<caption>Model Fit and Complexity Measures</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Metric </th>\n   <th style=\"text-align:left;\"> Value </th>\n   <th style=\"text-align:left;\"> Interpretation </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> DIC </td>\n   <td style=\"text-align:left;\"> 5199.78 </td>\n   <td style=\"text-align:left;\"> Lower is better - comparative model selection </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> WAIC </td>\n   <td style=\"text-align:left;\"> 5073.35 </td>\n   <td style=\"text-align:left;\"> Cross-validation based - preferred for prediction </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Marginal Log-Likelihood </td>\n   <td style=\"text-align:left;\"> -2544.67 </td>\n   <td style=\"text-align:left;\"> Higher is better - overall model quality </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Effective Parameters </td>\n   <td style=\"text-align:left;\"> 355.10 </td>\n   <td style=\"text-align:left;\"> Model complexity - balance with fit quality </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## 7.2 Sensitivity Analysis\n\n### Prior Specification Robustness\n\n::: {.callout-note}\n## Key Robustness Checks Performed\n1. **Alternative prior specifications** for spatial hyperparameters\n2. **Different spatial weight matrices** (queen vs. rook vs. distance-based)\n3. **Variable specification sensitivity** (alternative transformations and interactions)\n4. **Cross-validation performance** using spatial folding to respect geographic structure\n5. **Outlier influence assessment** using conditional predictive ordinates (CPO)\n:::\n\n---\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}